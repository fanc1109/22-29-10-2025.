<!-- <h3>Lista de Alunos</h3>
<table id="tabelaAlunos" border="1">
    <thead>
        <tr>
            <th>Nome</th>
            <th>Nascimento</th>
            <th>Telefone</th>
            <th>Endereço</th>
            <th>Excluir</th>
        </tr>
    </thead> -->
     <!-- <tbody> 
        Linhas preenchidas pelo JavaScript 
     </tbody> 
   
</table> -->
<hr>
<a href="index1.html">Voltar</a>
<h3>Adicionar Novo Aluno</h3>
                    Nome: 
                    <input type="text" id="nome" name="nome" value="">
                    <br>
                    Nascimento: 
                    <input type="date" id="nascimento" name="nascimento" value="">
                    <br>
                    Telefone: 
                    <input type="text" id="telefone" name="telefone" value="">
                    <br>
                    Endereço: 
                    <input type="text" id="endereco" name="endereco" value="">
                    <br>
                    <input type="hidden" name="acao" value="inserir">
                    <button onclick="cadastrar()">cadastrar</button>
                  

<script>
     var token = "0e1304f33f4f48cf9a9b3b78426e28f1";
         // Exemplo de requisição GET para listar pessoas
       fetch("https://crudcrud.com/api/"+token+"/pessoas")
         .then(response => response.json())
        .then(data => botatabela(data) )
        .catch(error => console.log(error));



      function botatabela(pessoas){
       console.log(pessoas);


      var tabela = document.getElementById("tabelaAlunos").getElementsByTagName("tbody")[0];

       pessoas.forEach(function(pessoa)  {
           var linha = tabela.insertRow();

            var celulanome = linha.insertCell(0);
            var celulanascimento = linha.insertCell(1);
            var celulatelefone = linha.insertCell(2);
            var celulaendereco = linha.insertCell(3);
            var celulaexcluir = linha.insertCell(4);

             celulanome.innerHTML = pessoa.nome;
             celulanascimento.innerHTML = pessoa.nascimento;
             celulatelefone.innerHTML = pessoa.telefone;
             celulaendereco.innerHTML = pessoa.endereco;
             celulaexcluir.innerHTML = '<button onclick="excluir(\'' + pessoa._id + '\')">excluir</button>'
       })};
     
    
     function cadastrar() {
        var token = "0e1304f33f4f48cf9a9b3b78426e28f1";
          // Exemplo de requisição POST para adicionar uma nova pessoa
        fetch("https://crudcrud.com/api/"+token+"/pessoas", {
         // metodo de requisição (get, post, put, delete)
        method: "POST",
         // cabeçalho da requisição(tipo de conteudo, autorizações, etc...)
         headers: {
             "Content-Type": "application/json"
         },
         // corpo da requisição (dados que serão enviados)
         body: JSON.stringify({
             nome: document.getElementById('nome').value,
             nascimento: document.getElementById('nascimento').value,
             endereco: document.getElementById('endereco').value,
             telefone: document.getElementById('telefone').value
         })
         })
         .then(response => response.json())
         .then(data => console.log("pessoa criado:", data))
         .catch(error => console.error("Erro no POST:", error))
         .finally(() => {
             // redirecionar para a pagina inicial
             setTimeout(window.location.href = "index1.html", 2000);
            
         });
     }
   
    function excluir(id){
        token = "0e1304f33f4f48cf9a9b3b78426e28f1"
        fetch("https://crudcrud.com/api/"+token+"/pessoas/"+id, {
            method: "DELETE"
            })
            .then(() => console.log("Pessoa deletado com sucesso"))
            .catch(error => console.error("Erro no DELETE:", error))
            .finally(() => {
            // redirecionar para a pagina inicial
            setTimeout(window.location.href = "index.html", 2000);
            
        });
    }

</script>